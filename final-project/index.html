<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Meta Description fro SEO -->
    <meta name="description" content="Explore the Museum of the Watched">

    <!-- Open Graph for Social Sharing -->
    <meta property="og:title" content="Museum of the Watched">
    <meta property="og:description" content="CART-211 Final Project">

    <!-- Author and Copyright -->
    <meta name="author" content="Haolei Ma">
    <meta name="copyright" content="© Copyright Haolei Ma, student project, 2025">

    <title>Museum of the Watched - Entrance</title>

    <!-- External Stylesheet -->
    <link rel="stylesheet" href="default.css">

</head>

<body class="home">
    <div class="matrix-bg">
        <div class="matrix-layer" id="layer-back"></div>
        <div class="matrix-layer" id="layer-front"></div>
    </div>
    <div class="scan-lines"></div>
    <div class="data-stream"></div>

    <main class="container">
        <header class="museum-header">
            <h1 class="museum-title">Museum of the Watched</h1>
        </header>

        <div class="consent-agreement">
            <div class="agreement-text">
                <p>Welcome to the Museum of the Watched</p>
                <p>By entering this museum, you consent to our collection and processing of your behavioral data for
                    artistic and analytical purposes.</p>
                <p>Every click, dwell time, scroll action, and interactive choice you make will become part of the
                    exhibit.
                </p>
                <p class="small-text">* This consent is irrevocable. Closing this page constitutes your agreement.</p>
            </div>


            <div class="agreement-buttons">
                <button id="agree-btn-1" class="agree-btn">I Agree</button>
                <button id="agree-btn-2" class="agree-btn">I Agree</button>
            </div>

        </div>

        <div class="visitor-counter">
            <span>Today's visitor: <span id="counter">0000</span></span>
        </div>
    </main>

    <script src="js/script.js"></script>
    <script>
        sessionStorage.setItem('entryTime', new Date().toISOString());

        document.getElementById('agree-btn-1').addEventListener('click', enterMuseum);
        document.getElementById('agree-btn-2').addEventListener('click', enterMuseum);

        function enterMuseum() {

            recordInteraction('consent_given');
            window.location.href = 'atrium.html';
        }

        setInterval(() => {
            const counter = document.getElementById('counter');
            let count = parseInt(counter.textContent);
            counter.textContent = String(count + 1).padStart(4, '0');
        }, 3000);

        const chars = "アイウカキクケコｱｲｳｴｵ012345789ABCDEFGHIJKLMNOPQRSTUVXYZ#$%&*+=-";


        function createRain(layer, count, speedMin, speedMax) {
            for (let i = 0; i < count; i++) {
                const col = document.createElement("div");
                col.classList.add("matrix-column");


                let length = Math.floor(Math.random() * 20) + 10;
                let stream = "";
                for (let j = 0; j < length; j++) {
                    stream += chars[Math.floor(Math.random() * chars.length)] + "\n";
                }
                col.textContent = stream;


                col.style.left = `${Math.random() * 100}vw`;


                const duration = Math.random() * (speedMax - speedMin) + speedMin;
                col.style.animation = `rain ${duration}s linear infinite`;
                col.style.animationDelay = `${Math.random() * 5}s`;

                layer.appendChild(col);
            }
        }

        createRain(document.getElementById("layer-back"), 25, 9, 14);

        createRain(document.getElementById("layer-front"), 35, 4, 8);

    </script>

    <!--Footer-->
    <footer>
        <small><em>© This website was created as part of a student peoject. All content and design are copyright
                Haolei Ma, student, 2025</em></small>
    </footer>


</body>

</html>